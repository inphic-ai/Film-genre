# 時間軸筆記審核中心 UI 設計文件

## 頁面路徑
`/admin/review`

## 權限控制
- **Admin**: 可查看所有 PENDING 筆記，可審核（核准/拒絕）
- **Staff**: 可查看自己的 PENDING 筆記，無法審核
- **Viewer**: 無法存取此頁面（導向首頁並顯示錯誤訊息）

## UI 佈局

### 頁面標題區
```
時間軸筆記審核中心
管理所有待審核的時間軸筆記
```

### 篩選與排序工具列
- **狀態篩選**: 全部 / 待審核 / 已核准 / 已拒絕
- **建立者篩選**: 全部 / 特定使用者（下拉選單）
- **排序**: 建立時間（新→舊 / 舊→新）
- **搜尋**: 筆記內容關鍵字搜尋

### 批次操作工具列
- **全選 / 取消全選** checkbox
- **批次核准** 按鈕（選中項目數量 > 0 時啟用）
- **批次拒絕** 按鈕（選中項目數量 > 0 時啟用）
- 顯示「已選中 X 筆」

### 筆記列表（Table）
| 欄位 | 說明 |
|------|------|
| 選擇 | Checkbox（僅 Admin 可見） |
| 影片標題 | 點擊可跳轉到影片詳情頁 |
| 時間戳記 | 格式：MM:SS |
| 筆記內容 | 最多顯示 100 字，超過顯示「...」 |
| 圖片 | 顯示縮圖（最多 3 張） |
| 建立者 | 使用者名稱 + 角色標籤 |
| 建立時間 | 格式：YYYY/MM/DD HH:mm |
| 狀態 | PENDING（黃色）/ APPROVED（綠色）/ REJECTED（紅色） |
| 操作 | 核准 / 拒絕 按鈕（僅 Admin 可見） |

### 拒絕原因對話框
- **標題**: 拒絕筆記
- **內容**: 
  - 顯示筆記內容摘要
  - 拒絕原因輸入框（必填，最少 10 字）
- **按鈕**: 確認拒絕 / 取消

## 互動流程

### 單筆審核
1. Admin 點擊「核准」按鈕 → 直接核准，狀態變更為 APPROVED
2. Admin 點擊「拒絕」按鈕 → 彈出拒絕原因對話框 → 輸入原因 → 確認 → 狀態變更為 REJECTED

### 批次審核
1. Admin 勾選多筆筆記
2. 點擊「批次核准」→ 確認對話框 → 確認 → 所有選中筆記變更為 APPROVED
3. 點擊「批次拒絕」→ 拒絕原因對話框 → 輸入原因（套用到所有選中筆記）→ 確認 → 所有選中筆記變更為 REJECTED

## 響應式設計
- **桌面版**: 完整 Table 顯示
- **平板版**: 隱藏「圖片」欄位
- **手機版**: 改為卡片式佈局，每張卡片顯示關鍵資訊

## 技術實作
- **前端組件**: `/client/src/pages/ReviewCenter.tsx`
- **後端 API**: 
  - `trpc.timelineNotes.listPendingNotes` - 列出待審核筆記
  - `trpc.timelineNotes.approveNote` - 核准單筆筆記
  - `trpc.timelineNotes.rejectNote` - 拒絕單筆筆記
  - `trpc.timelineNotes.batchApprove` - 批次核准
  - `trpc.timelineNotes.batchReject` - 批次拒絕
- **權限檢查**: 使用 `protectedProcedure` + `ctx.user.role` 檢查
